<!DOCTYPE html>
<html lang="en">
<head id="shared-head">
    <link rel="stylesheet" href="/src/styles/styles.css">
</head>
<body>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script>
        fetch('templates/head.html')
            .then(resp => resp.text())
            .then(html => {
                document.getElementById('shared-head').innerHTML += html
        });

        window.addEventListener('load', () => {
            document.title = "Welcome"
        })
    </script>
    <script src="../src/js/navbar.js"></script>

    <div class="navbar">
    </div>

    <div class="section">
        <h1 style="font-size:50px;">Into the Mountains</h1>
        <p>Walk into the mountains, and spy the objects around you...</p>

        <div class="btn-group">
            <a href="/frontend/app/game.html" class="button">Play a Game</a>
        </div>

        <div class="bento-grid">
            <div style="grid-area:box-1; "><h2>2,000</h2><p>ğŸ”Total Objects Spied</p></div>
            <div style="grid-area:box-2; "><h2>1,904</h2><p>ğŸ™ƒTotal Spies</p></div>
            <div style="grid-area:box-3; "><h2>Ready for a challenge?</h2><a href="/frontend/app/game.html" class="button normal">Let's Go <i class="material-symbols-rounded">arrow_forward</i></a></div>
            <div style="grid-area:box-4; "><h2>Water Bottle</h2><p>ğŸ‘‘Find of the Day</p></div>
            <div style="grid-area:box-5; "><h2>Top Spies</h2><a href="/frontend/app/leaderboard.html" class="button normal">Leaderboard <i class="material-symbols-rounded">arrow_forward</i></a></div>
            <div style="grid-area:box-6; "><h2>Pratham Rawat</h2><p>ğŸ˜¶Spy of the Day</p></div>
            <div style="grid-area:box-7; "><h2>ğŸŒ¿Pro tip</h2><p>Take <b>clear</b> pictures of <b>well-lit</b>, interesting scenes for the most engaging results!</p></div>
            <div style="grid-area:box-8; "><h2>Do you live under a rock?</h2><a href="https://www.wikihow.com/Play-the-I-Spy-Game" class="button normal" target="_blank">Read this article! <i class="material-symbols-rounded">open_in_new</i></a></div>
            <div style="grid-area:box-9; "><h2>Useless Box</h2><p>You just wasted 0.5s reading this</p></div>
            <div style="grid-area:box-10;"><h2>Thanks to our devs:</h2></div>
            <div style="grid-area:box-11;"><h2>Shrey Shah</h2><p>Backend dude</p></div>
            <div style="grid-area:box-12;"><h2>Did you know</h2><p>That you can change the color theme</p></div>
            <div style="grid-area:box-13;"><img src="/src/media/noise.png" alt="Into the mountains image" style="width: 100%;"></div>
            <div style="grid-area:box-14;"><h2>Henry Herman</h2><p>Made a great presentation with Pratham</p></div>
            <div style="grid-area:box-15;"><h2>Michael Li</h2><p>I'm writing this right now</p></div>
            <div style="grid-area:box-16;"><h2>Pratham Rawat</h2><p>Amazing README guy</p></div>
        </div>
    </div>

    <script>
        // Fetch stats from backend and update the bento grid
        fetch('http://localhost:5500/stats')
            .then(response => response.json())
            .then(data => {
                // Update Total Objects Spied
                document.querySelector('[style="grid-area:box-1"]').querySelector('h2').textContent = data.total_objects;

                // Update Total Spies
                document.querySelector('[style="grid-area:box-2"]').querySelector('h2').textContent = data.total_spies;

                // Update Find of the Day
                document.querySelector('[style="grid-area:box-4"]').querySelector('h2').textContent = data.find_of_day;

                // Update Spy of the Day
                document.querySelector('[style="grid-area:box-6"]').querySelector('h2').textContent = data.spy_of_day;
            })
            .catch(error => console.error('Error fetching stats:', error));
    </script>
</body>
</html>
